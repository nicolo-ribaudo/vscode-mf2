{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "MessageFormat 2.0",
  "patterns": [
    {
      "include": "#simple-message"
    },
    {
      "include": "#complex-message"
    }
  ],
  "fileTypes": [
    "mf2"
  ],
  "repository": {
    "simple-message": {
      "name": "simple-message.mf2",
      "begin": "^(?=(?:[\\x{01}-\\x{2D}\\/-\\[\\]-z\\|~-\\x{D7FF}\\x{E000}-\\x{10FFFF}]))",
      "end": "(?=file)end",
      "patterns": [
        {
          "include": "#escaped-char"
        },
        {
          "include": "#placeholder"
        }
      ]
    },
    "complex-message": {
      "name": "complex-message.mf2",
      "begin": "^",
      "end": "(?=file)end",
      "patterns": []
    },
    "escaped-char": {
      "name": "constant.character.escape.mf2",
      "match": "\\[\\{|}]"
    },
    "placeholder": {
      "patterns": [
        {
          "include": "#expression"
        },
        {
          "include": "#markup"
        }
      ]
    },
    "expression": {
      "begin": "{(?!(?:[\\t\\n\\r \\x{3000}])?[#/])",
      "patterns": [
        {
          "include": "#variable"
        },
        {
          "include": "#annotation"
        },
        {
          "include": "#attribute"
        },
        {
          "include": "#literal"
        }
      ],
      "end": "}"
    },
    "variable": {
      "name": "variable.other.mf2",
      "match": "$((?:(?:[A-Z_a-z\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{02FF}\\x{0370}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])(?:[\\x{2D}\\.0-9A-Z_a-z\\x{B7}\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{203F}\\x{2040}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])*:)?(?:[A-Z_a-z\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{02FF}\\x{0370}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])(?:[\\x{2D}\\.0-9A-Z_a-z\\x{B7}\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{203F}\\x{2040}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])*)"
    },
    "literal": {
      "patterns": [
        {
          "include": "#quoted"
        },
        {
          "include": "#unquoted"
        },
        {
          "include": "#number-literal"
        }
      ]
    },
    "unquoted": {
      "name": "string.unquoted.mf2",
      "match": "(?:[A-Z_a-z\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{02FF}\\x{0370}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])(?:[\\x{2D}\\.0-9A-Z_a-z\\x{B7}\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{203F}\\x{2040}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])*"
    },
    "quoted": {
      "name": "string.quoted.mf2",
      "begin": "|",
      "patterns": [
        {
          "match": "(?:[\\x{01}-\\[\\]-\\{\\}-\\x{D7FF}\\x{E000}-\\x{10FFFF}])"
        },
        {
          "include": "#escaped-char"
        }
      ],
      "end": "|"
    },
    "number-literal": {
      "name": "constant.numeric.mf2",
      "match": "\b-?(0|[1-9](?:[0-9])*)(\\.(?:[0-9])+)?([eE][-+]?(?:[0-9])+)?\\b"
    },
    "attribute": {
      "match": "(@)((?:(?:[A-Z_a-z\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{02FF}\\x{0370}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])(?:[\\x{2D}\\.0-9A-Z_a-z\\x{B7}\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{203F}\\x{2040}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])*:)?(?:[A-Z_a-z\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{02FF}\\x{0370}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])(?:[\\x{2D}\\.0-9A-Z_a-z\\x{B7}\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{203F}\\x{2040}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])*)(?:(?:[\\t\\n\\r \\x{3000}])?(=))?",
      "captures": {
        "1": {
          "name": "punctuation.definition.attribute.mf2"
        },
        "2": {
          "name": "entity.other.attribute-name.mf2"
        },
        "3": {
          "name": "punctuation.separator.key-value.mf2"
        }
      }
    },
    "annotation": {
      "patterns": [
        {
          "include": "#function"
        },
        {
          "include": "#option"
        },
        {
          "include": "#private-use-annotation"
        },
        {
          "include": "#reserved-annotation"
        }
      ]
    },
    "function": {
      "match": "(:)((?:(?:[A-Z_a-z\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{02FF}\\x{0370}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])(?:[\\x{2D}\\.0-9A-Z_a-z\\x{B7}\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{203F}\\x{2040}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])*:)?(?:[A-Z_a-z\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{02FF}\\x{0370}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])(?:[\\x{2D}\\.0-9A-Z_a-z\\x{B7}\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{203F}\\x{2040}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])*)",
      "captures": {
        "1": {
          "name": "punctuation.definition.function.mf2"
        },
        "2": {
          "name": "entity.name.function.mf2"
        }
      }
    },
    "option": {
      "match": "((?:(?:[A-Z_a-z\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{02FF}\\x{0370}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])(?:[\\x{2D}\\.0-9A-Z_a-z\\x{B7}\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{203F}\\x{2040}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])*:)?(?:[A-Z_a-z\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{02FF}\\x{0370}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])(?:[\\x{2D}\\.0-9A-Z_a-z\\x{B7}\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{203F}\\x{2040}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])*)(?:[\\t\\n\\r \\x{3000}])?(=)",
      "captures": {
        "1": {
          "name": "variable.parameter.function-call.mf2"
        },
        "2": {
          "name": "punctuation.separator.key-value.mf2"
        }
      }
    },
    "private-use-annotation": {
      "match": "[&^]",
      "name": "punctuation.definition.private-use-annotation.mf2"
    },
    "reserved-annotation": {
      "match": "[!%*+<>?~]",
      "name": "punctuation.definition.reserved-annotation.mf2"
    },
    "markup": {
      "patterns": [
        {
          "begin": "({(?:[\\t\\n\\r \\x{3000}])?#)((?:(?:[A-Z_a-z\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{02FF}\\x{0370}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])(?:[\\x{2D}\\.0-9A-Z_a-z\\x{B7}\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{203F}\\x{2040}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])*:)?(?:[A-Z_a-z\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{02FF}\\x{0370}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])(?:[\\x{2D}\\.0-9A-Z_a-z\\x{B7}\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{203F}\\x{2040}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])*)",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.markup.open.mf2"
            },
            "2": {
              "name": "entity.name.tag.mf2"
            }
          },
          "end": "/?}",
          "endCaptures": {
            "0": {
              "name": "punctuation.definition.markup.close.mf2"
            }
          },
          "patterns": [
            {
              "include": "#option"
            },
            {
              "include": "#attribute"
            },
            {
              "include": "#literal"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "({(?:[\\t\\n\\r \\x{3000}])?/)((?:(?:[A-Z_a-z\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{02FF}\\x{0370}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])(?:[\\x{2D}\\.0-9A-Z_a-z\\x{B7}\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{203F}\\x{2040}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])*:)?(?:[A-Z_a-z\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{02FF}\\x{0370}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])(?:[\\x{2D}\\.0-9A-Z_a-z\\x{B7}\\x{C0}-\\x{D6}\\x{D8}-\\x{F6}\\x{F8}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}\\x{200D}\\x{203F}\\x{2040}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFC}\\x{10000}-\\x{EFFFF}])*)",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.markup.open.mf2"
            },
            "2": {
              "name": "entity.name.tag.mf2"
            }
          },
          "end": "}",
          "endCaptures": {
            "0": {
              "name": "punctuation.definition.markup.close.mf2"
            }
          },
          "patterns": [
            {
              "include": "#option"
            },
            {
              "include": "#attribute"
            },
            {
              "include": "#literal"
            },
            {
              "include": "#variable"
            }
          ]
        }
      ]
    }
  },
  "scopeName": "source.mf2"
}